{% extends "base.html" %}

{% block content %}
<h2 class="mb-4">Cadastro / Edição de Aluno</h2>

<form method="post">
    {% csrf_token %}

    {% if form.errors %}
        <div class="alert alert-danger">
            <strong>Erros no preenchimento:</strong>
            <ul>
                {% for field in form %}
                    {% for error in field.errors %}
                        <li><strong>{{ field.label }}:</strong> {{ error }}</li>
                    {% endfor %}
                {% endfor %}
                {% for error in form.non_field_errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

    <!-- Informações Pessoais -->
    <fieldset class="border p-3 mb-4">
        <legend class="fw-bold text-primary">Informações Pessoais</legend>
        <div class="row mb-3">
            <div class="col-md-6">{{ form.nome.label_tag }} {{ form.nome }}</div>
            <div class="col-md-6">{{ form.data_nascimento.label_tag }} {{ form.data_nascimento }}</div>
        </div>
        <div class="row mb-3">
            <div class="col-md-6">{{ form.cpf.label_tag }} {{ form.cpf }}</div>
            <div class="col-md-6">{{ form.rg.label_tag }} {{ form.rg }}</div>
        </div>
        <div class="row mb-3">
            <div class="col-md-6">{{ form.sexo.label_tag }} {{ form.sexo }}</div>
        </div>
    </fieldset>

    <!-- Informações de Contato -->
    <fieldset class="border p-3 mb-4">
        <legend class="fw-bold text-primary">Informações de Contato</legend>
        <div class="row mb-3">
            <div class="col-md-6">{{ form.email.label_tag }} {{ form.email }}</div>
            <div class="col-md-3">{{ form.telefone.label_tag }} {{ form.telefone }}</div>
            <div class="col-md-3">{{ form.telefone_emergencia.label_tag }} {{ form.telefone_emergencia }}</div>
        </div>
    </fieldset>

    <!-- Endereço -->
    <fieldset class="border p-3 mb-4">
        <legend class="fw-bold text-primary">Endereço</legend>
        <div class="row mb-3">
            <div class="col-md-3">{{ form.cep.label_tag }} {{ form.cep }}</div>
            <div class="col-md-6">{{ form.endereco.label_tag }} {{ form.endereco }}</div>
            <div class="col-md-3">{{ form.numero.label_tag }} {{ form.numero }}</div>
        </div>
        <div class="row mb-3">
            <div class="col-md-3">{{ form.complemento.label_tag }} {{ form.complemento }}</div>
            <div class="col-md-3">{{ form.bairro.label_tag }} {{ form.bairro }}</div>
            <div class="col-md-3">{{ form.cidade.label_tag }} {{ form.cidade }}</div>
            <div class="col-md-3">{{ form.uf.label_tag }} {{ form.uf }}</div>
        </div>
    </fieldset>

    <!-- Informações Acadêmicas -->
    <fieldset class="border p-3 mb-4">
        <legend class="fw-bold text-primary">Informações Acadêmicas</legend>
        <div class="row mb-3">
            <div class="col-md-3">{{ form.matricula.label_tag }} {{ form.matricula }}</div>
            <div class="col-md-3">{{ form.curso.label_tag }} {{ form.curso }}</div>
            <div class="col-md-3">{{ form.serie_ano.label_tag }} {{ form.serie_ano }}</div>
            <div class="col-md-3">{{ form.turno.label_tag }} {{ form.turno }}</div>
        </div>
        <div class="row mb-3">
            <div class="col-md-3">{{ form.status.label_tag }} {{ form.status }}</div>
            <div class="col-md-9">{{ form.observacoes.label_tag }} {{ form.observacoes }}</div>
        </div>
    </fieldset>

    <div class="d-flex justify-content-between">
        <button type="reset" class="btn btn-secondary">Limpar</button>
        <button type="submit" class="btn btn-primary">Salvar</button>
    </div>
</form>
{% endblock %}
